/**
 * Tuyen Truyen Phap Luat - Internationalization (i18n)
 * Translations for Vietnamese, English, and Chinese
 */

const translations = {
    vi: {
        home: "Trang chủ",
        documents: "Văn bản",
        ai_assistant: "Hỏi đáp AI",
        language: "Ngôn ngữ:",
        search_docs: "Tra cứu Văn bản",
        ask_ai: "Hỏi Trợ lý AI",
        docs_title: "Kho Văn Bản Pháp Luật",
        view_quick: "Xem nhanh",
        open_file: "Mở file",
        motto_1: "KỶ LUẬT LÀ NỀN TẢNG",
        motto_2: "TRUNG THÀNH LÀ CỐT LÕI",
        motto_3: "GẦN DÂN LÀ THƯỚC ĐO",
        unit_name_1: "CÔNG AN TỈNH PHÚ THỌ",
        unit_name_2: "PHÒNG QUẢN LÝ XUẤT NHẬP CẢNH",
        hero_movement: "Phong trào thi đua",
        hero_3best: "BA NHẤT",
        best_discipline: "KỶ LUẬT NHẤT",
        best_loyalty: "TRUNG THÀNH NHẤT",
        best_closeness: "GẦN DÂN NHẤT",
        tag_decree: "NGHỊ ĐỊNH",
        tag_law: "LUẬT",
        tag_regulation: "QUY CHẾ",
        doc1_title: "Nghị định 282/2025/NĐ-CP",
        doc1_desc: "Quy định xử phạt vi phạm hành chính trong lĩnh vực an ninh, trật tự, an toàn xã hội.",
        doc2_title: "LUẬT NHẬP CẢNH, XUẤT CẢNH, QUÁ CẢNH, CƯ TRÚ CỦA NGƯỜI NƯỚC NGOÀI TẠI VIỆT NAM",
        doc2_desc: "Văn bản hợp nhất quy định về nhập cảnh, xuất cảnh, quá cảnh, cư trú của người nước ngoài.",
        doc3_title: "Quy chế phối hợp trong quản lý người nước ngoài cư trú, hoạt động trên địa bàn tỉnh Phú Thọ",
        doc3_desc: "Quy định về phối hợp quản lý người nước ngoài trên địa bàn tỉnh Phú Thọ.",
        ai_section_title: "Trợ Lý Ảo Pháp Luật",
        ai_section_desc: "Hệ thống giải đáp tự động thông minh, giúp bạn tra cứu nhanh chóng các quy định về xuất nhập cảnh. Chính xác - Nhanh chóng - Tiện lợi.",
        chat_now: "Trò chuyện ngay",
        ai_name: "Trợ lý AI",
        ai_welcome: "Xin chào! Tôi là Trợ lý AI pháp luật. Bạn muốn hỏi gì về thủ tục xuất nhập cảnh hôm nay?",
        chat_demo_q: "Thủ tục gia hạn visa du lịch gồm những gì?",
        chat_demo_a: "Theo quy định mới nhất, bạn cần chuẩn bị: Hộ chiếu gốc, tờ khai NA5, và xác nhận tạm trú...",
        footer_slogan: "VÌ NƯỚC QUÊN THÂN - VÌ DÂN PHỤC VỤ",
        designed_by_label: "Thiết kế bởi Đại úy Vi Ngọc Phương",
        designed_by_role: "Bí thư Chi đoàn ghép Phòng PA01-PA08",
        online_status: "Sẵn sàng hỗ trợ",
        bubble_text: "Xin chào ! Tôi là Trợ lý AI, bạn có cần giúp gì không?",
        campaign_peak: "Cao điểm 70 ngày đêm",
        campaign_digital: "Tiên phong chuyển đổi số",
        anniv_line1: "Công trình thanh niên chào mừng",
        anniv_line2: "95 năm thành lập Đoàn TNCS Hồ Chí Minh",
        anniv_line3: "70 năm truyền thống Đoàn Bộ Công an",
        footer_action: "Tuổi trẻ Công an Đất Tổ: Xung kích - Lập công - Vì an ninh Tổ quốc",
        close_btn: "Đóng",
        view_details_btn: "Xem chi tiết",
        stat_online: "Đang Online",
        stat_today: "Hôm nay",
        stat_total: "Tổng truy cập"
    },
    en: {
        home: "Home",
        documents: "Legal Docs",
        ai_assistant: "AI Assistant",
        language: "Language:",
        search_docs: "Search Documents",
        ask_ai: "Ask AI Assistant",
        docs_title: "Legal Documents Library",
        view_quick: "Quick View",
        open_file: "Open File",
        motto_1: "DISCIPLINE IS THE FOUNDATION",
        motto_2: "LOYALTY IS THE CORE",
        motto_3: "CLOSENESS TO PEOPLE IS THE MEASURE",
        unit_name_1: "PHU THO PROVINCIAL POLICE",
        unit_name_2: "IMMIGRATION DEPARTMENT",
        hero_movement: "Emulation Movement",
        hero_3best: "THREE BESTs",
        best_discipline: "MOST DISCIPLINED",
        best_loyalty: "MOST LOYAL",
        best_closeness: "CLOSEST TO PEOPLE",
        tag_decree: "DECREE",
        tag_law: "LAW",
        tag_regulation: "REGULATION",
        doc1_title: "Decree 282/2025/ND-CP",
        doc1_desc: "Regulations on administrative penalties in the fields of security, order, and social safety.",
        doc2_title: "LAW ON ENTRY, EXIT, TRANSIT, AND RESIDENCE OF FOREIGNERS IN VIETNAM",
        doc2_desc: "Consolidated text regulating entry, exit, transit, and residence of foreigners.",
        doc3_title: "Regulation on coordination in managing foreigners residing and operating in Phu Tho province",
        doc3_desc: "Regulations on coordination in managing foreigners in Phu Tho province.",
        ai_section_title: "Legal AI Assistant",
        ai_section_desc: "Smart automated answering system helping you quickly look up immigration regulations. Accurate - Fast - Convenient.",
        chat_now: "Chat Now",
        ai_name: "AI Assistant",
        ai_welcome: "Hello! I'm the Legal AI Assistant. What would you like to ask about immigration procedures today?",
        chat_demo_q: "What are the procedures for extending a tourist visa?",
        chat_demo_a: "According to the latest regulations, you need: Original passport, NA5 form, and temporary residence confirmation...",
        footer_slogan: "DEVOTED TO FATHERLAND - SERVING THE PEOPLE",
        designed_by_label: "Designed by Captain Vi Ngoc Phuong",
        designed_by_role: "Secretary of Joint Youth Union PA01-PA08",
        online_status: "Ready to assist",
        bubble_text: "Hello! I am AI Assistant, how can I help you?",
        campaign_peak: "70-Day Peak Campaign",
        campaign_digital: "Pioneering Digital Transformation",
        anniv_line1: "Youth Work Celebrating",
        anniv_line2: "95th Anniversary of Ho Chi Minh Communist Youth Union",
        anniv_line3: "70th Anniversary of MPS Youth Union Tradition",
        footer_action: "Phu Tho Police Youth: Shock - Achievement - For National Security",
        close_btn: "Close",
        view_details_btn: "View Details",
        stat_online: "Online",
        stat_today: "Today",
        stat_total: "Total Visits"
    },
    zh: {
        home: "首页",
        documents: "法律文件",
        ai_assistant: "AI 助手",
        language: "语言:",
        search_docs: "查询文件",
        ask_ai: "咨询 AI 助手",
        docs_title: "法律文件库",
        view_quick: "快速查看",
        open_file: "打开文件",
        motto_1: "纪律是基础",
        motto_2: "忠诚是核心",
        motto_3: "亲民是标准",
        unit_name_1: "富寿省公安厅",
        unit_name_2: "出入境管理处",
        hero_movement: "竞赛运动",
        hero_3best: "三个最",
        best_discipline: "纪律最严",
        best_loyalty: "最忠诚",
        best_closeness: "最亲民",
        tag_decree: "议定",
        tag_law: "法律",
        tag_regulation: "规制",
        doc1_title: "第 282/2025/NĐ-CP 号议定",
        doc1_desc: "规定安全、秩序和社会安全领域的行政违法处罚。",
        doc2_title: "关于外国人在越南入境、出境、过境、居留法",
        doc2_desc: "关于外国人在越南入境、出境、过境、居留规定的合并文本。",
        doc3_title: "富寿省外国人居留、活动管理协调规制",
        doc3_desc: "关于富寿省外国人管理协调的规定。",
        ai_section_title: "法律虚拟助手",
        ai_section_desc: "智能自动解答系统，帮助您快速查询出入境规定。准确 - 快速 - 便捷。",
        chat_now: "立即交谈",
        ai_name: "AI 助手",
        ai_welcome: "你好！我是法律AI助手。今天您想咨询什么出入境手续？",
        chat_demo_q: "旅游签证延期手续包括什么？",
        chat_demo_a: "根据最新规定，您需要准备：护照原件、NA5 申报表和暂住证明...",
        footer_slogan: "忘我为国 - 服务为民",
        designed_by_label: "设计者：韦玉方上尉",
        designed_by_role: "PA01-PA08 联合团支部书记",
        online_status: "在线服务",
        bubble_text: "你好！我是 AI 助手，有什么可以帮您吗？",
        campaign_peak: "70 天巅峰冲刺",
        campaign_digital: "数字化转型先锋",
        anniv_line1: "青年工程 庆祝",
        anniv_line2: "胡志明共青团成立 95 周年",
        anniv_line3: "公安部共青团传统 70 周年",
        footer_action: "富寿公安青年：突击 - 立功 - 为了祖国安全",
        close_btn: "关闭",
        view_details_btn: "查看详情",
        stat_online: "在线",
        stat_today: "今日",
        stat_total: "总访问量"
    }
};

const welcomeTranslations = {
    vi: {
        title: "CHÀO MỪNG BẠN!",
        subtitle: "Cổng thông tin tuyên truyền pháp luật",
        org: "Phòng Quản lý xuất nhập cảnh - Công an tỉnh Phú Thọ",
        intro: "Khám phá các tính năng chính của chúng tôi:",
        feat1_title: "Thư Viện Văn Bản Pháp Luật",
        feat1_desc: "Tra cứu nhanh các nghị định, luật và quy chế về xuất nhập cảnh.",
        feat2_title: "Xem Nhanh & Tóm Tắt",
        feat2_desc: "Nắm bắt nội dung chính của văn bản mà không cần mở file PDF.",
        feat3_title: "Trợ Lý AI Pháp Luật",
        feat3_desc: "Hỏi đáp thủ tục visa, cư trú với trí tuệ nhân tạo 24/7.",
        feat4_title: "Hỗ trợ Song ngữ",
        feat4_desc: "Giao diện và nội dung có sẵn bằng cả Tiếng Việt và Tiếng Anh.",
        btn: "Bắt đầu khám phá",
        checkbox: "Không hiển thị lại",
        campaign_title: "Cao điểm 70 ngày đêm",
        campaign_desc: "Tiên phong chuyển đổi số - Lập thành tích chào mừng các ngày lễ lớn."
    },
    en: {
        title: "WELCOME!",
        subtitle: "Legal Information Portal",
        org: "Immigration Department - Phu Tho Provincial Police",
        intro: "Explore our key features:",
        feat1_title: "Legal Document Library",
        feat1_desc: "Quickly search decrees, laws, and regulations on immigration.",
        feat2_title: "Quick View & Summary",
        feat2_desc: "Grasp the main content without opening PDF files.",
        feat3_title: "Legal AI Assistant",
        feat3_desc: "Ask about visa and residence procedures with 24/7 AI.",
        feat4_title: "Bilingual Support",
        feat4_desc: "Interface and content available in both Vietnamese and English.",
        btn: "Start Exploring",
        checkbox: "Don't show again",
        campaign_title: "70-Day Peak Campaign",
        campaign_desc: "Pioneering Digital Transformation - Celebrating Major Holidays."
    },
    zh: {
        title: "欢迎！",
        subtitle: "法律宣传信息门户",
        org: "出入境管理处 - 富寿省公安厅",
        intro: "探索我们的主要功能：",
        feat1_title: "法律文件库",
        feat1_desc: "快速查询关于出入境的议定、法律和规制。",
        feat2_title: "快速查看和摘要",
        feat2_desc: "无需打开 PDF 文件即可掌握文件主要内容。",
        feat3_title: "法律 AI 助手",
        feat3_desc: "通过 24/7 人工智能咨询签证、居留手续。",
        feat4_title: "多语言支持",
        feat4_desc: "界面和内容提供越南语、英语和中文。",
        btn: "开始探索",
        checkbox: "不再显示",
        campaign_title: "70 天巅峰冲刺",
        campaign_desc: "数字化转型先锋 - 以此成绩庆祝各大节日。"
    }
};

let currentLang = 'vi';

function setLanguage(lang) {
    currentLang = lang;

    // Update Text Content
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.innerText = translations[lang][key];
        }
    });

    // Update Buttons State
    const langIds = [
        'lang-btn-vi', 'lang-btn-en', 'lang-btn-zh',
        'mob-lang-vi', 'mob-lang-en', 'mob-lang-zh',
        'mob-header-lang-vi', 'mob-header-lang-en', 'mob-header-lang-zh'
    ];

    langIds.forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;

        const isSelected = id.endsWith(lang);
        if (isSelected) {
            el.classList.add('text-cand-gold', 'font-bold');
            el.classList.remove('text-white/70');
        } else {
            el.classList.remove('text-cand-gold', 'font-bold');
            el.classList.add('text-white/70');
        }
    });

    // Update welcome modal if visible
    updateWelcomeModalLang(lang);
}

function updateWelcomeModalLang(lang) {
    const t = welcomeTranslations[lang];
    if (!t) return;

    const elements = {
        'welcome-title': t.title,
        'welcome-subtitle': t.subtitle,
        'welcome-org': t.org,
        'welcome-intro': t.intro,
        'welcome-feat1-title': t.feat1_title,
        'welcome-feat1-desc': t.feat1_desc,
        'welcome-feat2-title': t.feat2_title,
        'welcome-feat2-desc': t.feat2_desc,
        'welcome-feat3-title': t.feat3_title,
        'welcome-feat3-desc': t.feat3_desc,
        'welcome-feat4-title': t.feat4_title,
        'welcome-feat4-desc': t.feat4_desc,
        'welcome-btn': t.btn,
        'welcome-checkbox': t.checkbox,
        'welcome-campaign-title': t.campaign_title,
        'welcome-campaign-desc': t.campaign_desc
    };

    Object.entries(elements).forEach(([id, text]) => {
        const el = document.getElementById(id);
        if (el) el.innerText = text;
    });
}
